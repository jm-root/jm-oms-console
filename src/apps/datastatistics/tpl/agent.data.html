<div class="bg-light lter b-b wrapper"><h1 class="m-n font-thin h3">渠道数据</h1></div>

<div class="headpadd " ng-if="isSmartDevice">
    <form style="margin: 0 auto">
        <div  class="input-group m-l-sm m-r-sm pull-right w-sm" >
            <select class="input-sm form-control" ng-model="search.agent" ng-options="option._id as option.name for option in agents" ng-change="onPageSizeChanged()">
                <option value="">所有渠道</option>
            </select>
        </div>
        <div  class="input-group m-l-sm m-r-sm">
            <div class="input-group m-r-xs" style="width: 185px;">
                <input date-range-picker type="text" class="form-control" ng-model="search.date" options="dateOptions" placeholder="{{'common.times'|translate }}" style="position: relative;height: 30px"/>
                <i class="glyphicon glyphicon-calendar fa fa-calendar" style="position: absolute;right: 8px;top:8px;z-index:1000;cursor: pointer;" onclick="$(this).parent().find('input').click();"></i>
            </div>
        </div>
    </form><br/>
</div>
<div class="headpadd " ng-if="!isSmartDevice">
    <form style="margin: 0 auto">
        <div  class="input-group m-l-sm m-r-sm pull-right" >
            <div class="input-group m-r-sm" style="width: 185px;">
                <input date-range-picker type="text" class="form-control" ng-model="search.date" options="dateOptions" placeholder="{{ 'common.times' | translate }}" style="position: relative;height: 30px"/>
                <i class="glyphicon glyphicon-calendar fa fa-calendar" style="position: absolute;right: 8px;top:8px;z-index:1000;cursor: pointer;" onclick="$(this).parent().find('input').click();"></i>
            </div>
        </div>
        <div  class="input-group m-l-sm m-r-sm pull-right w-sm" >
            <select class="input-sm form-control" ng-model="search.agent" ng-options="option._id as option.name for option in agents" ng-change="onPageSizeChanged()">
                <option value="">所有渠道</option>
            </select>
        </div>
        <div class="input-group m-l-sm m-r-sm pull-right">
            <select class="input-sm form-control" ng-model="pageSize" ng-options="o.val as o.val for o in listRowsOptions" ng-change="onPageSizeChanged()">
            </select>
        </div>

    </form><br/><br/>
</div>
<!--ng-style="{height:app.navHeight-200+'px'}"-->
<div style="margin: 0 10px 5px;position: relative;clear:both;">
    <div class="table-responsive" ng-style="tablestyle">
        <!--loading-->
        <div ng-if="moreLoading">
            <div style="position:fixed;z-index:1;width:100%;height:100%; background:#eeeeee;opacity: 0.5;"></div>
            <div ng-if="!isSmartDevice"  style="position:absolute;z-index: 2;left: 0;right: 0;top: 22em;bottom: 0;margin:auto;">
                <div class="text-center"><img width="30px" src="./apps/common/img/loading.gif"></div>
            </div>
            <div ng-if="isSmartDevice"  style="position:fixed;z-index: 2;left: 50%;top: 50%;transform: translate(-50%, -50%)">
                <div class="text-center"><img width="30px" src="./apps/common/img/loading.gif"></div>
            </div>
        </div>
        <!--no data-->
        <div class="text-center" ng-if="nodata&&!isSmartDevice" style="position:absolute;z-index: 2;left: 0;right: 0;top: 22em;bottom: 0;margin:auto;">
            <span style="border: 1px solid  #aaaaaa;padding: 5px;border-radius: 10px;">{{'ag-grid.noRowsToShow'|translate}}</span>
        </div>
        <div class="text-center" ng-if="nodata&&isSmartDevice" style="position:fixed;z-index: 2;left: 50%;top: 50%;transform: translate(-50%, -50%)">
            <span style="border: 1px solid  #aaaaaa;padding: 5px;border-radius: 10px;">{{'ag-grid.noRowsToShow'|translate}}</span>
        </div>
        <!--table-->
        <table class="table table-striped table-bordered mobiletable">
            <thead class="thead bg-white">
            <tr class="thr">
                <th class="thh">渠道名</th>
                <th class="thh">总支出</th>
                <th class="thh">总收入</th>
                <th class="thh">金币余额</th>
                <th class="thh">详细信息</th>
            </tr>
            </thead>
            <tbody class="tbody">

            <tr ng-repeat="row in usersInfo.rows" class="active tbr" ng-if="total">
                <td class="tbd" data-title="渠道名" style="height: 2.8em">{{row.crtime}}</td>
                <td class="tbd" data-title="总支出" style="height: 2.8em">{{row.crtime}}</td>
                <td class="tbd" data-title="总收入" style="height: 2.8em">{{row.uid}}</td>
                <td class="tbd" data-title="金币余额" style="height: 2.8em">{{row.uid}}</td>
                <td data-title="详细信息" class="text-left">
                    <button class="btn btn-xs btn-info" ng-click="details(row._id)" ng-disabled="key">详细信息</button>
                </td>
            </tr>

            </tbody>
        </table>
    </div>

    <!--ng-if="!isSmartDevice"-->
    <div ng-if="!moreLoading&&!isSmartDevice" style="margin:auto; margin-top: 30px">
        <div class="text-center">
            <button class="btn btn-default btn-sm" ng-click="getdata('',1)" ng-disabled="page==1">{{'ag-grid.first'|translate}}</button>
            <button class="btn btn-default btn-sm" ng-click="left()" ng-disabled="page==1">{{'ag-grid.previous'|translate}}</button>
            <span>{{page}}/{{pages}}</span>
            <button class="btn btn-default btn-sm" ng-click="right()" ng-disabled="page==pages">{{'ag-grid.next'|translate}}</button>
            <button class="btn btn-default btn-sm" ng-click="getdata('',pages)" ng-disabled="page==pages">{{'ag-grid.last'|translate}}</button>
        </div>
    </div>
    <div class="text-center" ng-if="!moreLoading&&!nodata&&isSmartDevice">
        <button class="btn btn-default btn-sm" ng-click="getdata('',1)" ng-disabled="page==1">{{'ag-grid.first'|translate}}</button>
        <button class="btn btn-default btn-sm" ng-click="left()" ng-disabled="page==1">{{'ag-grid.previous'|translate}}</button>
        <span>{{page}}/{{pages}}</span>
        <button class="btn btn-default btn-sm" ng-click="right()" ng-disabled="page==pages">{{'ag-grid.next'|translate}}</button>
        <button class="btn btn-default btn-sm" ng-click="getdata('',pages)" ng-disabled="page==pages">{{'ag-grid.last'|translate}}</button>
    </div>
</div>


