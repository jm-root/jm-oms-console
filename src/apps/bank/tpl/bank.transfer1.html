<div class="bg-light lter b-b wrapper">
    <h1 class="m-n font-thin h3">{{'bank.bank.transfer.title'|translate}}</h1>
</div>

<div class="wrapper-md">
    <form ng-show="$state.is('app.bank.transfer')" name="formValidate" class="form-horizontal form-validation">
        <div class="panel panel-default col-sm-9 col-md-6">
                <div class="list-group" style="padding:0;">

                    <li ui-sref="app.search.user" class="list-group-item" style="padding-right: 10px;">
                        <div class="row">
                            <div class="col-xs-4">
                                {{'bank.bank.transfer.label2'|translate}}
                            </div>
                            <div class="col-xs-6 text-right">
                                <span ng-if="uid"><span ng-if="nick">{{nick}}</span>(ID: {{uid}})</span>
                            </div>
                            <div class="col-xs-2 text-right" style="padding-right:20px;">
                                <i class="fa fa-chevron-right"></i>
                            </div>
                        </div>
                    </li>

                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-xs-4" style="vertical-align: middle">
                                {{'bank.bank.transfer.label3'|translate}}
                            </div>
                            <div class="col-xs-2"></div>
                            <div class="col-xs-6 text-right pull-right" style="margin:0;padding:0;">
                                <input type="number"  ng-class="{'p-r-lg':isSmartDevice}" style="width: 130px;border:none;text-align:right;" min="1" placeholder="{{'bank.bank.transfer.defaultAccount'|translate}}" ng-pattern="/^[0-9]*$/" ng-model="bank.toAccountId">
                            </div>
                        </div>
                    </li>

                    <li class="list-group-item" style="margin:0;">
                        <div class="row" ng-if="isSmartDevice" ng-init="bank.ctCode = 'jb'">
                            <div class="col-xs-4">
                                <span>币种</span>
                            </div>
                            <div class="col-xs-3 pull-right text-right">
                                <span>金币</span>
                            </div>
                        </div>
                        <div class="row" ng-if="!isSmartDevice" style="height: 23px;">
                            <div class="col-xs-4" style="padding-bottom:0">
                                <span>选择币种</span>
                            </div>
                            <div class="radio text-right" style="padding-top:0;">
                                <label class="i-checks i-checks-sm p-r-lg">
                                    <input type="radio" name="ctcode" ng-model="bank.ctCode" value="jb" />
                                    <i></i>
                                    {{'bank.bank.npreauth.ctOpts.opts2'|translate}}
                                </label>
                                <label class="i-checks i-checks-sm p-r-lg">
                                    <input type="radio" name="ctcode" ng-model="bank.ctCode" value="dbj" />
                                    <i></i>
                                    {{'bank.bank.npreauth.ctOpts.opts3'|translate}}
                                </label>
                                <label class="i-checks i-checks-sm p-r-lg">
                                    <input type="radio" name="ctcode" ng-model="bank.ctCode" value="tb" />
                                    <i></i>
                                    {{'bank.bank.npreauth.ctOpts.opts1'|translate}}
                                </label>
                            </div>
                        </div>
                    </li>

                    <li class="list-group-item" ng-if="!isCP">
                        <div class="row">
                            <div class="col-xs-4">
                                {{'bank.bank.transfer.label4'|translate}}
                            </div>
                            <div class="col-xs-6 pull-right text-right">
                                <label style="padding: 0;margin:0;" ng-if="accounts.length<=1">{{bank.fromAccountId||''}}</label>
                                <select class="form-control w-sm" ng-if="accounts.length>1" ng-model="bank.fromAccountId" ng-options="option.id as option.id for option in accounts" ng-change="changeAcount()" ng-required="true">
                                </select>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item" ng-if="!isCP">
                        <div class="row">
                            <div class="col-xs-4">
                                {{'common.balance'|translate}}
                            </div>
                            <div class="col-xs-6 pull-right text-right">
                                {{sum=defAccount.holds[bank.ctCode]&&(defAccount.holds[bank.ctCode].amount||0)||0}}
                            </div>
                        </div>
                    </li>

                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-xs-4">
                                {{'bank.bank.transfer.label5'|translate}}
                            </div>
                            <div class="col-xs-6 pull-right text-right" style="margin:0;padding:0;">
                                <input type="number" ng-class="{'p-r-lg':isSmartDevice}"  style="width: 130px;border: none;text-align:right;" ng-model="bank.amount" min="1" placeholder="{{'common.amount'|translate}}" ng-pattern="/^[0-9]*$/">
                            </div>
                        </div>
                    </li>


                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-xs-3">
                                {{'common.memo'|translate}}
                            </div>
                            <div class="col-xs-9 text-right pull-right">
                                <textarea class="form-control col-xs-8 pull-right" style="max-width: 350px;" rows="2" style="resize: none;" placeholder="" ng-model="bank.memo"></textarea>
                            </div>
                        </div>
                    </li>


                </div>
                <footer class="panel-footer text-right lter">
                    <button type="submit" class="btn btn-success" ng-click="!formValidate.$invalid&&transfer()">{{'common.transfer'|translate}}</button>
                </footer>
        </div>
    </form>
</div>