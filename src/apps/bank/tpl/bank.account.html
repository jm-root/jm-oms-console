<div class="bg-light lter b-b wrapper"><h1 class="m-n font-thin h3">{{'bank.bank.account.title'|translate}}</h1></div>
<div>
    <div class="pull-right m-r-xl headpadd">
        <form>
            <div class="input-group m-r-sm">
                <input type="text" ng-model="search" class="form-control input-sm bg-white no-border rounded padder" placeholder="{{'common.searchUser'|translate}}">
                <span class="input-group-btn" style="width: auto">
                    <button type="submit" class="btn btn-sm bg-white rounded" ng-click="onPageSizeChanged()"><i class="fa fa-search"></i></button>
              </span>
            </div>
        </form>
    </div>
    <div class="pull-right m-r-xxl headpadd" ng-if="!isSmartDevice">
        <select class="input-sm form-control" ng-model="$parent.pageSize" ng-options="o.val as o.val for o in listRowsOptions" ng-change="onPageSizeChanged()">
        </select>
    </div>
</div>

<div style="margin: 0 10px 5px;position: relative;clear:both;">
    <div class="table-responsive mobiletable" ng-style="tablestyle">
        <!--loading-->
        <div ng-if="moreLoading">
            <div style="position:fixed;z-index:1;width:100%;height:100%; background:#eeeeee;opacity: 0.5;"></div>
            <div ng-if="!isSmartDevice"  style="position:absolute;z-index: 2;left: 0;right: 0;top: 49%;bottom: 0;margin:auto;">
                <div class="text-center"><img width="30px" src="./apps/common/img/loading.gif"></div>
            </div>
            <div ng-if="isSmartDevice"  style="position:fixed;z-index: 2;left: 50%;top: 50%;transform: translate(-50%, -50%)">
                <div class="text-center"><img width="30px" src="./apps/common/img/loading.gif"></div>
            </div>
        </div>
        <!--no data-->
        <div class="text-center" ng-if="nodata&&!isSmartDevice" style="position:absolute;z-index: 2;left: 0;right: 0;top: 49%;bottom: 0;margin:auto;">
            <span style="border: 1px solid  #aaaaaa;padding: 5px;border-radius: 10px;">{{'ag-grid.noRowsToShow'|translate}}</span>
        </div>
        <div class="text-center" ng-if="nodata&&isSmartDevice" style="position:fixed;z-index: 2;left: 50%;top: 50%;transform: translate(-50%, -50%)">
            <span style="border: 1px solid  #aaaaaa;padding: 5px;border-radius: 10px;">{{'ag-grid.noRowsToShow'|translate}}</span>
        </div>
        <!--table-->
        <table class="table table-striped table-bordered" >
            <thead class="thead bg-white">
            <tr class="thr">
                <th class="thh">{{'bank.account.header.id'|translate}}</th>
                <th class="thh">{{'bank.account.header.user'|translate}}</th>
                <th class="thh">{{'bank.account.header.jb'|translate}}</th>
                <th class="thh" ng-if="!isSmartDevice">{{'bank.account.header.jb_a'|translate}}</th>
                <th class="thh" ng-if="!isSmartDevice">{{'bank.account.header.dbj'|translate}}</th>
                <th class="thh" ng-if="!isSmartDevice">{{'bank.account.header.dbj_a'|translate}}</th>
                <th class="thh" ng-if="!isSmartDevice">{{'bank.account.header.tb'|translate}}</th>
                <th class="thh" ng-if="!isSmartDevice">{{'bank.account.header.tb_a'|translate}}</th>
                <th class="thh">{{'bank.account.header.status'|translate}}</th>
                <th class="thh">{{'bank.account.header.createdAt'|translate}}</th>
            </tr>
            </thead>
            <tbody class="tbody" >
            <tr ng-repeat="row in accountlist" class="active tbr">
                <td class="tbd" data-title="{{'bank.account.header.id'|translate}}" style="height: 2.8em">{{row.user.accountId}}</td>
                <td class="tbd" data-title="{{'bank.account.header.user'|translate}}" style="height: 2.8em">{{row.user.name}}</td>
                <td class="tbd" data-title="{{'bank.account.header.jb'|translate}}" style="height: 2.8em">{{row.holds.jb.amount || 0}}</td>
                <td class="tbd" ng-if="!isSmartDevice" data-title="{{'bank.account.header.jb_a'|translate}}" style="height: 2.8em">{{row.holds.jb.overdraw || 0}}</td>
                <td class="tbd" ng-if="!isSmartDevice" data-title="{{'bank.account.header.dbj'|translate}}" style="height: 2.8em">{{row.holds.dbj.amount || 0}}</td>
                <td class="tbd" ng-if="!isSmartDevice" data-title="{{'bank.account.header.dbj_a'|translate}}" style="height: 2.8em">{{row.holds.dbj.overdraw || 0}}</td>
                <td class="tbd" ng-if="!isSmartDevice" data-title="{{'bank.account.header.tb'|translate}}" style="height: 2.8em">{{row.holds.tb.amount || 0}}</td>
                <td class="tbd" ng-if="!isSmartDevice" data-title="{{'bank.account.header.tb_a'|translate}}" style="height: 2.8em">{{row.holds.tb.overdraw || 0}}</td>
                <td class="tbd" data-title="{{'bank.account.header.status'|translate}}" style="height: 2.8em">{{row.status == 0 ?('bank.bank.account.statusOpts.opts1'|translate):( row.status == 1 ?('bank.bank.account.statusOpts.opts2'|translate):('bank.bank.account.statusOpts.opts3'|translate))}}</td>
                <td class="tbd" data-title="{{'bank.account.header.createdAt'|translate}}" style="height: 2.8em">{{row.user.createdAt | date:'yyyy-MM-dd hh:mm:ss'}}</td>
            </tr>
            </tbody>
        </table>
    </div>

    <!--ng-if="!isSmartDevice"-->
    <div ng-if="!moreLoading&&!isSmartDevice" style="margin:0 auto;margin-top:30px;">
        <div class="text-center">
            <div class="pull-left m-l-md">{{((page>0?(page-1):page)*(pageSize||20)+1)||0}} - {{(page*(pageSize||20) < total)?(page*(pageSize||20)):total||0}} / {{totalnumber||0}}</div>
            <button class="btn btn-default btn-sm" ng-click="getdata(1)" ng-disabled="page==1">{{'ag-grid.first'|translate}}</button>
            <button class="btn btn-default btn-sm" ng-click="left()" ng-disabled="page==1">{{'ag-grid.previous'|translate}}</button>
            <span>{{page}}/{{pages}}</span>
            <button class="btn btn-default btn-sm" ng-click="right()" ng-disabled="page==pages">{{'ag-grid.next'|translate}}</button>
            <button class="btn btn-default btn-sm" ng-click="getdata(pages)" ng-disabled="page==pages">{{'ag-grid.last'|translate}}</button>
        </div>
    </div>
    <div class="text-center" ng-if="!moreLoading&&!nodata&&isSmartDevice">
        <button class="btn btn-default btn-sm" ng-click="getdata(1)" ng-disabled="page==1">{{'ag-grid.first'|translate}}</button>
        <button class="btn btn-default btn-sm" ng-click="left()" ng-disabled="page==1">{{'ag-grid.previous'|translate}}</button>
        <span>{{page}}/{{pages}}</span>
        <button class="btn btn-default btn-sm" ng-click="right()" ng-disabled="page==pages">{{'ag-grid.next'|translate}}</button>
        <button class="btn btn-default btn-sm" ng-click="getdata(pages)" ng-disabled="page==pages">{{'ag-grid.last'|translate}}</button>
    </div>
</div>






